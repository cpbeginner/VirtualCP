@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --bg: #f4f7f2;
    --ink: #0f1b1f;
    --muted: #4b5a60;
    --card: #ffffff;
    --stroke: #d7e1e0;
    --primary: #1f6f8b;
    --primary-ink: #ecf9ff;
    --secondary: #f2e8d8;
    --accent: #f6ae2d;
    --danger: #d1495b;
    --warning: #f6ae2d;
    --success: #1b8a5a;
    --shadow: rgba(15, 27, 31, 0.12);
  }

  body {
    font-family: "Instrument Sans", sans-serif;
    color: var(--ink);
    background-color: var(--bg);
    background-image:
      radial-gradient(600px 380px at 10% 0%, rgba(31, 111, 139, 0.16) 0%, transparent 60%),
      radial-gradient(520px 420px at 95% 10%, rgba(246, 174, 45, 0.18) 0%, transparent 55%),
      linear-gradient(transparent 23px, rgba(31, 111, 139, 0.05) 24px),
      linear-gradient(90deg, transparent 23px, rgba(31, 111, 139, 0.05) 24px);
    background-size: auto, auto, 24px 24px, 24px 24px;
    min-height: 100vh;
  }

  #root {
    min-height: 100vh;
  }
}

@layer components {
  .page-enter {
    animation: fadeSlide 0.6s ease both;
  }

  .stagger > * {
    animation: riseIn 0.5s ease both;
  }

  .stagger > *:nth-child(2) { animation-delay: 0.05s; }
  .stagger > *:nth-child(3) { animation-delay: 0.1s; }
  .stagger > *:nth-child(4) { animation-delay: 0.15s; }
  .stagger > *:nth-child(5) { animation-delay: 0.2s; }
  .stagger > *:nth-child(6) { animation-delay: 0.25s; }

  .story-gradient {
    background: radial-gradient(1200px 900px at 20% 20%, rgba(99, 102, 241, 0.45), transparent 60%),
      radial-gradient(900px 700px at 80% 30%, rgba(236, 72, 153, 0.35), transparent 55%),
      radial-gradient(800px 700px at 40% 90%, rgba(34, 211, 238, 0.3), transparent 55%),
      linear-gradient(135deg, rgba(2, 6, 23, 1), rgba(15, 23, 42, 1));
    background-size: 200% 200%;
    animation: storyGradientDrift 14s ease infinite;
  }

  .story-blob {
    animation: storyBlobFloat 6s ease-in-out infinite;
  }

  .story-blob-slow {
    animation-duration: 10s;
  }

  .story-pop {
    animation: storyTextPop 0.6s cubic-bezier(0.2, 1, 0.2, 1) both;
  }
}

@keyframes fadeSlide {
  from {
    opacity: 0;
    transform: translateY(12px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes riseIn {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes storyGradientDrift {
  0% { background-position: 0% 40%; }
  50% { background-position: 100% 60%; }
  100% { background-position: 0% 40%; }
}

@keyframes storyBlobFloat {
  0%, 100% {
    transform: translate3d(0, 0, 0) scale(1);
  }
  50% {
    transform: translate3d(10px, -14px, 0) scale(1.05);
  }
}

@keyframes storyTextPop {
  from {
    opacity: 0;
    transform: translateY(10px) scale(0.98);
  }
  to {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

@media (prefers-reduced-motion: reduce) {
  .story-gradient,
  .story-blob,
  .story-pop,
  .page-enter,
  .stagger > * {
    animation: none !important;
  }
}
